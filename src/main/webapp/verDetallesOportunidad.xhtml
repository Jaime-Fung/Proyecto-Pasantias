<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Detalles de la Oportunidad</title>
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: 'Segoe UI', Arial, sans-serif;
                background-color: #f2f2f2;
            }
            .header-container {
                background-color: #fff;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 20px 40px;
                box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            }
            .header-title {
                font-size: 24px;
                font-weight: bold;
                color: #333;
            }
            .apply-button {
                background-color: #f90;
                border: none;
                color: #fff;
                font-size: 16px;
                padding: 10px 20px;
                border-radius: 4px;
                cursor: pointer;
            }
            .content-container {
                display: flex;
                margin: 20px 40px;
                gap: 20px;
            }
            .description-section {
                flex: 2;
                background-color: #fff;
                padding: 30px;
                border-radius: 6px;
                box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            }
            .description-section h2 {
                margin-top: 0;
                color: #333;
            }
            .description-section p {
                line-height: 1.5;
                color: #555;
            }
            .sidebar {
                flex: 1;
                background-color: #fff;
                padding: 30px;
                border-radius: 6px;
                box-shadow: 0 2px 6px rgba(0,0,0,0.08);
                height: fit-content;
            }
            .sidebar h3 {
                margin-top: 0;
                color: #333;
                margin-bottom: 10px;
            }
            .sidebar-item {
                display: flex;
                align-items: center;
                margin-bottom: 10px;
            }
            .sidebar-icon {
                font-size: 16px;
                color: #007bff;
                margin-right: 10px;
            }
            .sidebar-label {
                color: #555;
            }
            .footer-buttons {
                margin-top: 30px;
                text-align: right;
            }
            .footer-buttons p\:commandButton,
            .footer-buttons h\:commandButton {
                margin-left: 10px;
            }
        </style>
    </h:head>
    <h:body>

        <h:form>
            <div class="header-container">
                <div class="header-title">

                    #{oportunidadesController.oportunidades.titulo}-#{oportunidadesController.oportunidades.idOrganizacion.nombre}
                </div>
                <p:commandButton value="Aplica ahora"
                                 styleClass="apply-button"
                                 action="#{oportunidadesController.aplicar(oportunidadesController.oportunidades.id, loginController.usuario.id, loginController.organizacion.id, loginController.usuario.correoElectronico)}" 
                                 update="@form, messages" />
                
            </div>
            <p:messages id="messages" showDetail="true" closable="true"/>
        </h:form>

        <h:form id="detallesForm">
            <div class="content-container">

                <div class="description-section">
                    <h2>DESCRIPCIÃ“N</h2>
                    <h:outputText value="#{oportunidadesController.oportunidades.descripcion}" escape="false"/>
                    
                    <h2 style="margin-top:25px; margin-bottom: 5px">DETALLES DE LA OFERTA</h2>
                    <h:outputText value="#{oportunidadesController.oportunidades.detalles}" escape="false"/>

                    <div class="footer-buttons">
                        <p:commandButton value="Regresar"
                                         icon="pi pi-arrow-left"
                                         action="oportunidades?faces-redirect=true"
                                         styleClass="ui-button-secondary" />
                    </div>
                </div>

                <div class="sidebar">
                    <h3>Detalles del trabajo</h3>

                    <div class="sidebar-item">
                        <i class="pi pi-map-marker sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.provincia}, #{oportunidadesController.oportunidades.ubicacion}
                        </div>
                    </div>

                    <div class="sidebar-item">
                        <i class="pi pi-briefcase sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.tipo}
                        </div>
                    </div>

                    <div class="sidebar-item">
                        <i class="pi pi-clock sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.duracion}
                        </div>
                    </div>

                    <div class="sidebar-item">
                        <i class="pi pi-calendar sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.jornada}
                        </div>
                    </div>

                    <div class="sidebar-item">
                        <i class="pi pi-dollar sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.pago}
                        </div>
                    </div>

                    <div class="sidebar-item">
                        <i class="pi pi-globe sidebar-icon"></i>
                        <div class="sidebar-label">
                            #{oportunidadesController.oportunidades.modalidad}
                        </div>
                    </div>
                </div>
            </div>
        </h:form>

    </h:body>
</html>
